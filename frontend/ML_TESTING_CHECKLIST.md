# 前端ML功能集成测试清单

## 📋 测试说明
本文档提供了前端ML功能的测试清单，用于验证机器学习功能在用户界面中的正确集成。

## 🧪 测试环境要求
- Node.js v18+
- 前端开发服务器运行在 `localhost:5173`
- 后端服务运行在 `localhost:5000`
- 数据库中有足够的测试数据

## 📝 学生看板测试清单

### 1. 页面加载测试
- [ ] 访问学生看板页面正常加载
- [ ] 基础数据（成绩、作业、讨论等）正常显示
- [ ] ML分析区域正确渲染

### 2. 机器学习分析功能测试
- [ ] 智能分析报告区域显示
- [ ] 学习行为类型分析卡片显示
- [ ] 成绩预测卡片显示（如果有预测数据）
- [ ] 个性化推荐卡片显示
- [ ] 异常行为检测卡片显示（如果检测到异常）

### 3. 数据加载状态测试
- [ ] ML数据加载时显示骨架屏
- [ ] 加载失败时显示友好提示
- [ ] 无数据时显示空状态提示

### 4. 交互功能测试
- [ ] 聚类类型标签颜色正确显示
- [ ] 置信度进度条正常工作
- [ ] 预测趋势图标正确显示
- [ ] 建议列表可以正常展开/收起

## 🛠️ 管理员看板测试清单

### 1. 标签页导航测试
- [ ] 数据概览标签页正常显示
- [ ] 智能分析标签页正常显示
- [ ] 模型训练标签页正常显示
- [ ] 标签切换时正确加载对应内容

### 2. 智能分析功能测试
- [ ] 聚类分析结果正确显示
- [ ] 聚类分布进度条正确渲染
- [ ] 学生列表可以正常展开查看
- [ ] 点击学生ID能正确跳转到学生详情
- [ ] 异常检测结果正确显示
- [ ] 异常学生卡片信息完整
- [ ] 风险等级标签颜色正确

### 3. 模型训练功能测试
- [ ] 训练按钮正常工作
- [ ] 训练确认对话框正确显示
- [ ] 训练过程中显示加载状态
- [ ] 训练完成后显示结果
- [ ] 训练失败时显示错误信息

### 4. 数据刷新功能测试
- [ ] 刷新分析按钮正常工作
- [ ] 刷新时显示加载状态
- [ ] 刷新完成后数据更新

## 🔌 API集成测试清单

### 1. 学生端API测试
```javascript
// 在浏览器控制台中测试以下API调用
// 注意：需要先登录获取token

// 测试成绩预测
fetch('/api/ml/predict-grade', {
  headers: { 'Authorization': 'Bearer ' + localStorage.getItem('access_token') }
})

// 测试聚类分析
fetch('/api/ml/cluster-analysis', {
  headers: { 'Authorization': 'Bearer ' + localStorage.getItem('access_token') }
})

// 测试个性化推荐
fetch('/api/ml/recommendations', {
  headers: { 'Authorization': 'Bearer ' + localStorage.getItem('access_token') }
})

// 测试异常检测
fetch('/api/ml/anomaly-detection', {
  headers: { 'Authorization': 'Bearer ' + localStorage.getItem('access_token') }
})
```

### 2. 管理员端API测试
```javascript
// 管理员登录后测试

// 测试批量聚类分析
fetch('/api/ml/batch-cluster', {
  headers: { 'Authorization': 'Bearer ' + localStorage.getItem('access_token') }
})

// 测试批量异常检测
fetch('/api/ml/batch-anomaly', {
  headers: { 'Authorization': 'Bearer ' + localStorage.getItem('access_token') }
})

// 测试模型训练
fetch('/api/ml/train-models', {
  method: 'POST',
  headers: { 'Authorization': 'Bearer ' + localStorage.getItem('access_token') }
})
```

## 🎨 样式和响应式测试

### 1. 样式测试
- [ ] ML分析卡片样式正确
- [ ] 标签和进度条颜色符合设计
- [ ] 鼠标悬停效果正常
- [ ] 加载动画平滑

### 2. 响应式测试
- [ ] 桌面端(1920x1080)显示正常
- [ ] 笔记本端(1366x768)显示正常
- [ ] 平板端(768px)布局适配
- [ ] 手机端(375px)基本可用

## ⚡ 性能测试

### 1. 加载性能
- [ ] ML数据加载时间 < 3秒
- [ ] 页面首次渲染时间 < 2秒
- [ ] 图表渲染流畅无卡顿

### 2. 内存使用
- [ ] 长时间使用无明显内存泄漏
- [ ] 切换标签页内存释放正常

## 🐛 错误处理测试

### 1. 网络错误处理
- [ ] 断网情况下显示友好错误信息
- [ ] 接口超时时正确处理
- [ ] 服务器错误时用户体验良好

### 2. 数据异常处理
- [ ] 空数据时显示正确提示
- [ ] 格式错误数据时不崩溃
- [ ] 缺失字段时有默认值

## 📊 数据准确性测试

### 1. 数据一致性
- [ ] 前端显示数据与后端返回数据一致
- [ ] 刷新后数据保持一致
- [ ] 不同页面间数据联动正确

### 2. 计算准确性
- [ ] 百分比计算正确
- [ ] 排名显示准确
- [ ] 趋势判断逻辑正确

## 🔒 安全性测试

### 1. 权限控制
- [ ] 未登录用户无法访问ML功能
- [ ] 普通学生无法访问管理员ML功能
- [ ] Token过期时正确重定向

### 2. 数据安全
- [ ] 敏感数据不在前端明文存储
- [ ] 用户只能查看自己的ML分析结果

## 📱 兼容性测试

### 1. 浏览器兼容性
- [ ] Chrome (最新版)
- [ ] Firefox (最新版)
- [ ] Safari (最新版)
- [ ] Edge (最新版)

### 2. 设备兼容性
- [ ] Windows 10/11
- [ ] macOS
- [ ] iOS Safari
- [ ] Android Chrome

---

## 🚀 执行测试

### 快速测试步骤：
1. 启动后端服务：`npm run backend`
2. 启动前端服务：`npm run start`
3. 使用管理员账号登录，执行模型训练
4. 使用学生账号登录，查看ML分析结果
5. 逐一验证上述测试清单

### 深度测试：
1. 运行后端ML测试：`cd backend && python test_ml_features.py`
2. 检查控制台无错误信息
3. 使用开发者工具监控网络请求
4. 验证数据流完整性

---
**注意**：建议在正式发布前完成所有测试项目，确保ML功能稳定可靠。